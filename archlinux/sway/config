set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term kitty
set $menu sh -c '. "$HOME/.cache/wal/colors.sh"; \
bemenu-run \
  --fn "Terminus 9" \
  --nb "#000000" \
  --nf "$color7" \
  --tb "#000000" \
  --tf "$color7" \
  --hb "$color4" \
  --hf "#000000" \
  --fb "#000000"'

seat seat0 xcursor_theme macOS 24

bindsym $mod+Shift+p mode "Pause"
mode "Pause" {
    bindsym $mod+Shift+p mode "default"
}

input "type:touchpad" {
    tap enabled yes
    natural_scroll enabled yes
    scroll_method two_finger
    middle_emulation enabled
    dwt disabled
}

blur enable
blur_passes 2
blur_radius 6
blur_saturation 1.6

corner_radius 5

shadows enable
shadow_blur_radius 2
shadow_offset 0 0
shadow_color #000000ff
shadow_inactive_color #000000ff

floating_modifier $mod normal
titlebar_border_thickness 0
mouse_warping container
font pango:monospace 10
focus_follows_mouse no
titlebar_padding 1 1
title_align center
smart_gaps on

default_border pixel 1
client.background #ffffff
client.focused          #808080 #000000 #ffffff #000000 #59595B
client.focused_inactive #808080 #000000 #ffffff #000000 #59595B
client.unfocused        #404040 #000000 #888888 #000000 #404040
client.focused_tab_title #333333 #5f676a #ffffff
client.urgent #2f343a #900000 #ffffff #900000 #900000
client.placeholder #000000 #1c0c0c #ffffff #000000 #0c0c0c

for_window [title="(?i)picture[- ]in[- ]picture"] floating enable, sticky enable
assign [class="ZenBrowser"] 3
assign [class="Steam"] 4
assign [class="Spotify"] 5

exec mako
exec swww-daemon --format xrgb
exec nm-applet
exec ~/.config/i3status/scripts/current_media.sh

bindsym --release $mod+o exec ~/dotfiles/archlinux/scripts/rotate-lock-toggle.sh
exec ~/dotfiles/archlinux/scripts/sway-autororate.sh
input type:touch map_to_output eDP-1
input type:tablet_tool map_to_output eDP-1

exec_always {
    gsettings set org.gnome.desktop.interface gtk-theme 'Adwaita-dark'
    gsettings set org.gnome.desktop.interface cursor-theme 'Adwaita'
}

bindsym $mod+q exec $term
bindsym $mod+Shift+q kill
bindsym $mod+Shift+r reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'
bindsym $mod+r exec $menu

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Shift+$left move left 30px
bindsym $mod+Shift+$down move down 30px
bindsym $mod+Shift+$up move up 30px
bindsym $mod+Shift+$right move right 30px

bindsym $mod+u resize shrink width 30 px
bindsym $mod+i resize grow height 30 px
bindsym $mod+o resize shrink height 30 px
bindsym $mod+p resize grow width 30 px

bindsym $mod+c floating toggle; move position center
bindsym $mod+Shift+space floating toggle
bindsym $mod+f fullscreen
bindsym $mod+Shift+s move scratchpad
bindsym $mod+s scratchpad show

set $split_toggle_script sh -c 'STATE="$XDG_RUNTIME_DIR/sway_split_state"; if [ -f "$STATE" ] && grep -q v "$STATE"; then echo h > "$STATE"; swaymsg splith; else echo v > "$STATE"; swaymsg splitv; fi'
bindsym $mod+g exec $split_toggle_script

bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9

bindsym $mod+Shift+1 move container to workspace number 1; workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2; workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3; workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4; workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5; workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6; workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7; workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8; workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9; workspace number 9

bindsym Shift+Print exec grim - | tee "$HOME/Pictures/Screenshots/screenshot-$(date +%Y-%m-%d_%H-%M-%S).png" | wl-copy -t image/png
bindsym Ctrl+Print exec grim -g "$(slurp)" - | tee >(swappy -f -) | wl-copy -t image/png
bindsym Print exec grim -g "$(slurp)" - | tee "$HOME/Pictures/Screenshots/screenshot-$(date +%Y-%m-%d_%H-%M-%S).png" | wl-copy -t image/png

bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86MonBrightnessUp exec brightnessctl set +10%
bindsym XF86MonBrightnessDown exec brightnessctl set 10%-
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
bindsym $mod+m exec pavucontrol
bindsym $mod+F6 input "type:touchpad" events toggle

bindsym $mod+Shift+z exec wl-kbptr-sway-active-win -o modes=floating','click -o mode_floating.source=detect
bindsym $mod+z mode Mouse

mode Mouse {
    bindsym a mode default, exec 'wl-kbptr-sway-active-win; swaymsg mode Mouse'
    bindsym Shift+a mode default, exec 'wl-kbptr; swaymsg mode Mouse'

    bindsym $left seat seat0 cursor move -15 0
    bindsym $down seat seat0 cursor move 0 15
    bindsym $up seat seat0 cursor move 0 -15
    bindsym $right seat seat0 cursor move 15 0

    bindsym f seat seat0 cursor press button1
    bindsym --release f seat seat0 cursor release button1
    bindsym d seat seat0 cursor press button2
    bindsym --release d seat seat0 cursor release button2
    bindsym s seat seat0 cursor press button3
    bindsym --release s seat seat0 cursor release button3

    bindsym Escape mode default
}

bindsym $mod+b exec swaymsg bar mode toggle
bar {
    position bottom
    font Terminus 8
    workspace_min_width 22
    status_command i3status -c "$HOME/.config/i3status/config"
    tray_padding 3

    colors {
        background #000000
        statusline #ffffff
        separator #000000
        focused_background #000000
        focused_statusline #ffffff
        focused_separator #666666
        focused_workspace #000000 #000000 #ffffff
        active_workspace #333333 #5f676a #ffffff
        inactive_workspace #000000 #000000 #888888
        urgent_workspace #2f343a #900000 #ffffff
        binding_mode #2f343a #900000 #ffffff
    }
}

include /etc/sway/config.d/*
